/* frontend/assets/css/style.css */
/* Enhanced Variables */
:root{
  --bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --bg-light: #f8f9fe;
  --sidebar-gradient: linear-gradient(180deg,#1a1a2e,#16213e,#0f3460);
  --surface:#ffffff;
  --text:#2d3748;
  --muted:#718096;
  --primary:#667eea;
  --primary-dark:#5568d3;
  --accent:#f093fb;
  --success:#48bb78;
  --danger:#f56565;
  --warning:#ed8936;
  --info:#4299e1;
  --glass-bg: rgba(255,255,255,0.85);
  --glass-border: rgba(255,255,255,0.18);
  --radius:16px;
  --radius-sm:8px;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --shadow-md: 0 4px 6px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.05);
  --shadow-lg: 0 10px 15px rgba(0,0,0,0.1), 0 4px 6px rgba(0,0,0,0.05);
  --shadow-xl: 0 20px 25px rgba(0,0,0,0.15), 0 10px 10px rgba(0,0,0,0.04);
  --transition-speed: 0.3s;
  --transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Dark Mode Variables */
[data-theme="dark"] {
  --bg-light: #1a202c;
  --sidebar-gradient: linear-gradient(180deg,#2d3748,#1a202c,#171923);
  --surface: #2d3748;
  --text: #e2e8f0;
  --muted: #a0aec0;
  --glass-bg: rgba(45,55,72,0.85);
  --glass-border: rgba(255,255,255,0.1);
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.3);
  --shadow-md: 0 4px 6px rgba(0,0,0,0.4);
  --shadow-lg: 0 10px 15px rgba(0,0,0,0.5);
  --shadow-xl: 0 20px 25px rgba(0,0,0,0.6);
}

/* Base */
*{box-sizing:border-box; margin:0; padding:0;}
body{
  margin:0;
  font-family:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  color:var(--text);
  background:var(--bg-light);
  line-height:1.6;
  overflow-x:hidden;
  font-size:15px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color var(--transition-speed) var(--transition-smooth), 
              color var(--transition-speed) var(--transition-smooth);
}
a{color:inherit;text-decoration:none; transition: all var(--transition-speed) var(--transition-smooth);}
h1,h2,h3,h4,h5,h6{font-weight:700; line-height:1.2; margin-bottom:0.5rem; color:var(--text);}
h1{font-size:2.25rem;}
h2{font-size:1.875rem;}
h3{font-size:1.5rem;}
h4{font-size:1.25rem;}
h5{font-size:1.125rem;}
p{margin-bottom:1rem; line-height:1.7;}


/* Smooth Scrollbar */
::-webkit-scrollbar{width:10px;height:10px}
::-webkit-scrollbar-track{background:rgba(0,0,0,0.05);border-radius:10px; margin:4px;}
::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, var(--primary), var(--accent));
  border-radius:10px;
  transition:background 0.3s;
  border: 2px solid rgba(255,255,255,0.2);
}
::-webkit-scrollbar-thumb:hover{background: linear-gradient(180deg, var(--primary-dark), var(--primary));}


/* Sidebar */
.sidebar{
  position:fixed;
  left:0;
  top:0;
  width:280px;
  height:100vh;
  background:var(--sidebar-gradient);
  color:#fff;
  display:flex;
  flex-direction:column;
  z-index:1020;
  padding-bottom:16px;
  transition:transform var(--transition-speed) var(--transition-smooth);
  box-shadow:var(--shadow-xl);
  backdrop-filter: blur(10px);
}
.sidebar::before{
  content:'';
  position:absolute;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background: linear-gradient(180deg, rgba(102,126,234,0.1) 0%, rgba(118,75,162,0.1) 100%);
  pointer-events: none;
}
.sidebar .sidebar-top{
  display:flex;
  align-items:center;
  padding:24px 20px;
  border-bottom:1px solid rgba(255,255,255,0.1);
  animation:fadeInDown 0.6s ease-out;
  position:relative;
  z-index:1;
}
.sidebar .sidebar-top img{
  box-shadow:0 4px 12px rgba(0,0,0,0.3);
  border:3px solid rgba(255,255,255,0.2);
}
.sidebar .nav{margin-top:16px;padding:0 12px; position:relative; z-index:1;}
.sidebar .nav-link{
  color:rgba(255,255,255,0.85);
  padding:14px 16px;
  border-radius:12px;
  margin:4px 0;
  display:flex;
  align-items:center;
  transition:all var(--transition-speed) var(--transition-smooth);
  position:relative;
  overflow:hidden;
  font-weight:500;
  backdrop-filter: blur(10px);
}
.sidebar .nav-link i{
  font-size:1.2rem;
  margin-right:12px;
  transition:transform var(--transition-speed) var(--transition-smooth);
  width:24px;
  text-align:center;
}
.sidebar .nav-link::before{
  content:'';
  position:absolute;
  left:0;
  top:0;
  width:4px;
  height:100%;
  background: linear-gradient(180deg, var(--accent), var(--primary));
  transform:scaleY(0);
  transition:transform var(--transition-speed) var(--transition-smooth);
  border-radius:0 4px 4px 0;
}
.sidebar .nav-link.active::before,.sidebar .nav-link:hover::before{transform:scaleY(1);}
.sidebar .nav-link.active{
  background:rgba(255,255,255,0.15);
  box-shadow:inset 0 0 20px rgba(0,0,0,0.2), 0 4px 12px rgba(0,0,0,0.1);
  transform:translateX(8px);
  color:#fff;
}
.sidebar .nav-link:hover{
  background:rgba(255,255,255,0.1);
  transform:translateX(8px);
  color:#fff;
}
.sidebar .nav-link:hover i{transform:scale(1.15) rotate(-5deg);}
.sidebar-footer{
  margin-top:auto;
  padding:16px 20px;
  opacity:0.7;
  animation:fadeIn 1s ease-out 0.5s both;
  border-top:1px solid rgba(255,255,255,0.1);
  position:relative;
  z-index:1;
}

/* Main content */
.main-content{
  margin-left:280px;
  transition:margin var(--transition-speed) var(--transition-smooth);
  min-height:100vh;
  background:var(--bg-light);
}
@media(max-width:991px){
  .sidebar{transform:translateX(-100%)}
  .sidebar.open{transform:translateX(0)}
  .main-content{margin-left:0}
}

/* Topbar */
.topbar{
  height:80px;
  display:flex;
  align-items:center;
  background:rgba(255,255,255,0.98);
  backdrop-filter:blur(20px);
  padding:0 28px;
  box-shadow:var(--shadow-md);
  position:sticky;
  top:0;
  z-index:1010;
  animation:slideDown 0.5s ease-out;
  border-bottom:1px solid rgba(0,0,0,0.05);
}
.topbar h4{
  margin:0;
  background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight:700;
}

/* Cards */
.card{
  border-radius:var(--radius);
  border:0;
  background:var(--surface);
  box-shadow:var(--shadow-sm);
  transition:all var(--transition-speed) var(--transition-smooth);
  animation:fadeInUp 0.6s ease-out;
  overflow:hidden;
  border:1px solid rgba(0,0,0,0.06);
}
.card:hover{
  box-shadow:var(--shadow-lg);
  transform:translateY(-8px);
  border-color:rgba(102,126,234,0.2);
}
.card-header{
  background: linear-gradient(135deg, rgba(102,126,234,0.05) 0%, rgba(118,75,162,0.05) 100%);
  border-bottom:1px solid rgba(0,0,0,0.08);
  font-weight:600;
  padding:16px 20px;
}
.card-body{
  padding:24px;
}
.stat-card{
  padding:28px 24px;
  cursor:pointer;
  position:relative;
  overflow:hidden;
  background: linear-gradient(135deg, var(--surface) 0%, rgba(102,126,234,0.02) 100%);
}
.stat-card::before{
  content:'';
  position:absolute;
  top:0;
  left:-100%;
  width:100%;
  height:100%;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.5),transparent);
  transition:left 0.6s ease;
}
.stat-card:hover::before{left:100%}
.stat-card:hover{
  transform:translateY(-10px) scale(1.03);
  box-shadow:var(--shadow-xl);
}

.icon-circle{
  width:72px;
  height:72px;
  border-radius:18px;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-size:1.75rem;
  animation:bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  transition:transform var(--transition-speed) var(--transition-smooth);
  box-shadow:var(--shadow-md);
  position:relative;
}
.icon-circle::after{
  content:'';
  position:absolute;
  top:50%;
  left:50%;
  width:100%;
  height:100%;
  border-radius:18px;
  background:inherit;
  opacity:0.3;
  transform:translate(-50%, -50%) scale(0);
  transition:transform 0.6s ease;
}
.stat-card:hover .icon-circle::after{
  transform:translate(-50%, -50%) scale(1.4);
}
.stat-card:hover .icon-circle{
  transform:rotate(360deg) scale(1.15);
}
.bg-gradient-1{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}
.bg-gradient-2{background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%)}
.bg-gradient-3{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%)}
.bg-gradient-4{background:linear-gradient(135deg,#43e97b 0%,#38f9d7 100%)}

/* Chart placeholder */
.chart-placeholder{
  height:300px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:16px;
  background: linear-gradient(135deg, rgba(102,126,234,0.05) 0%, rgba(118,75,162,0.05) 100%);
  position:relative;
  overflow:hidden;
  border:2px dashed rgba(102,126,234,0.2);
}
.chart-placeholder::before{
  content:'';
  position:absolute;
  width:200px;
  height:200px;
  background: radial-gradient(circle, rgba(102,126,234,0.1) 0%, transparent 70%);
  border-radius:50%;
  animation:pulse 3s ease-in-out infinite;
}
.empty-chart{
  text-align:center;
  position:relative;
  z-index:1;
}
.empty-chart i{
  font-size:3rem;
  color:var(--primary);
  opacity:0.5;
  display:block;
  margin-bottom:12px;
}

/* Tables */
.table{
  border-collapse: separate;
  border-spacing: 0;
}
.table thead th{
  vertical-align:middle;
  position:sticky;
  top:0;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color:#fff;
  font-weight:600;
  padding:16px 20px;
  border:none;
  text-transform:uppercase;
  font-size:0.85rem;
  letter-spacing:0.5px;
  z-index:10;
}
.table thead th:first-child{
  border-radius:12px 0 0 0;
}
.table thead th:last-child{
  border-radius:0 12px 0 0;
}
.table tbody td{
  padding:16px 20px;
  border-bottom:1px solid rgba(0,0,0,0.05);
  vertical-align:middle;
}
.table-hover tbody tr{
  transition:all 0.3s var(--transition-smooth);
  cursor:pointer;
  background:#fff;
}
.table-hover tbody tr:hover{
  background: linear-gradient(90deg, rgba(102,126,234,0.08), rgba(118,75,162,0.08));
  transform:translateX(8px) scale(1.01);
  box-shadow:0 8px 24px rgba(102,126,234,0.15);
}
.table-responsive{
  max-height:600px;
  overflow:auto;
  border-radius:16px;
  box-shadow:var(--shadow-md);
}

/* Auth */
.premium-auth-bg{
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  overflow:hidden;
}
.premium-auth-bg::before{
  content:'';
  position:absolute;
  width:500px;
  height:500px;
  background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
  border-radius:50%;
  top:-250px;
  right:-250px;
  animation:float 20s ease-in-out infinite;
}
.premium-auth-bg::after{
  content:'';
  position:absolute;
  width:400px;
  height:400px;
  background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, transparent 70%);
  border-radius:50%;
  bottom:-200px;
  left:-200px;
  animation:float 25s ease-in-out infinite reverse;
}
@keyframes float{
  0%, 100%{transform:translateY(0) rotate(0deg);}
  50%{transform:translateY(-30px) rotate(180deg);}
}
.auth-card{
  width:480px;
  max-width:95%;
  border-radius:24px;
  overflow:hidden;
  box-shadow:var(--shadow-xl);
  animation:zoomIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  border:1px solid rgba(255,255,255,0.2);
  backdrop-filter:blur(10px);
}
.auth-card .card-body{
  background:linear-gradient(180deg,#fff,#f8f9fe);
  padding:40px;
}
.auth-card .card-footer{
  background:rgba(102,126,234,0.05);
  border-top:1px solid rgba(0,0,0,0.05);
}
.role-card{
  border:2px solid rgba(102,126,234,0.2);
  border-radius:16px;
  padding:24px;
  transition:all 0.4s var(--transition-smooth);
  cursor:pointer;
  background:rgba(255,255,255,0.5);
  backdrop-filter:blur(10px);
}
.role-card:hover{
  border-color:var(--primary);
  box-shadow:var(--shadow-lg);
  transform:translateY(-8px);
  background:#fff;
}

/* Buttons */
.btn{
  transition:all var(--transition-speed) var(--transition-smooth);
  position:relative;
  overflow:hidden;
  font-weight:600;
  letter-spacing:0.3px;
  padding:12px 28px;
  border-radius:var(--radius-sm);
  border:none;
}
.btn::before{
  content:'';
  position:absolute;
  top:50%;
  left:50%;
  width:0;
  height:0;
  border-radius:50%;
  background:rgba(255,255,255,0.4);
  transform:translate(-50%,-50%);
  transition:width 0.6s,height 0.6s;
}
.btn:hover::before{width:400px;height:400px}
.btn-primary{
  background:linear-gradient(135deg,var(--primary) 0%,var(--accent) 100%);
  color:#fff;
  box-shadow:0 4px 15px rgba(102,126,234,0.4);
  border:none;
}
.btn-primary:hover{
  transform:translateY(-3px);
  box-shadow:0 8px 25px rgba(102,126,234,0.5);
  background:linear-gradient(135deg,var(--primary-dark) 0%,var(--primary) 100%);
}
.btn-outline-primary{
  border:2px solid var(--primary);
  color:var(--primary);
  background:transparent;
  font-weight:600;
}
.btn-outline-primary:hover{
  background:var(--primary);
  color:#fff;
  transform:translateY(-3px);
  box-shadow:0 6px 20px rgba(102,126,234,0.3);
}
.btn-outline-secondary{
  border:2px solid #e2e8f0;
  color:var(--text);
  background:transparent;
}
.btn-outline-secondary:hover{
  background:#f7fafc;
  border-color:var(--primary);
  transform:translateY(-2px);
  box-shadow:var(--shadow-sm);
}
.btn i{
  transition:transform 0.3s var(--transition-smooth);
  margin-right:6px;
}
.btn:hover i{transform:scale(1.2);}
.btn-sm{
  padding:8px 16px;
  font-size:0.875rem;
}

/* Forms */
.form-control,.form-select{
  border-radius:var(--radius-sm);
  border:2px solid #e2e8f0;
  transition:all 0.3s var(--transition-smooth);
  padding:12px 16px;
  font-size:15px;
  background:#fff;
}
.form-control:focus,.form-select:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 4px rgba(102,126,234,0.1);
  transform:translateY(-2px);
  outline:none;
}
.form-label{
  font-weight:600;
  margin-bottom:8px;
  color:var(--text);
  font-size:0.9rem;
  letter-spacing:0.3px;
}
.form-check-input{
  cursor:pointer;
  width:1.5em;
  height:1.5em;
  transition:all 0.3s var(--transition-smooth);
  border:2px solid #e2e8f0;
}
.form-check-input:checked{
  background-color:var(--primary);
  border-color:var(--primary);
  transform:scale(1.1);
  box-shadow:0 0 0 4px rgba(102,126,234,0.2);
}
.form-check-input:focus{
  box-shadow:0 0 0 4px rgba(102,126,234,0.2);
}
.invalid-feedback{
  color:var(--danger);
  font-size:0.875rem;
  margin-top:4px;
}
.is-invalid{
  border-color:var(--danger);
}
.is-valid{
  border-color:var(--success);
}

/* Utilities */
.avatar-sm{
  width:48px;
  height:48px;
  object-fit:cover;
  border-radius:50%;
  border:3px solid rgba(102,126,234,0.3);
  transition:all 0.3s var(--transition-smooth);
  box-shadow:var(--shadow-sm);
}
.avatar-sm:hover{
  transform:scale(1.15) rotate(5deg);
  border-color:var(--primary);
  box-shadow:var(--shadow-md);
}
small.text-muted{color:var(--muted); font-size:0.875rem;}
footer{padding:28px 0;animation:fadeIn 1s ease-out 0.8s both}
.badge{
  padding:6px 14px;
  border-radius:20px;
  font-weight:600;
  font-size:0.8rem;
  letter-spacing:0.5px;
  transition:all 0.3s var(--transition-smooth);
}
.badge:hover{
  transform:scale(1.1);
  box-shadow:var(--shadow-sm);
}
.bg-info{
  background: linear-gradient(135deg, var(--info), #63b3ed) !important;
  color:#fff;
}

/* Loading Spinner */
.spinner-overlay{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.5);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
  opacity:0;
  pointer-events:none;
  transition:opacity 0.3s ease;
}
.spinner-overlay.show{opacity:1;pointer-events:all}
.spinner{
  width:50px;
  height:50px;
  border:4px solid rgba(255,255,255,0.3);
  border-top-color:#fff;
  border-radius:50%;
  animation:spin 0.8s linear infinite;
}

/* Toast Notification */
.toast-container{
  position:fixed;
  top:24px;
  right:24px;
  z-index:10000;
}
.toast-notification{
  background:#fff;
  padding:20px 24px;
  border-radius:12px;
  box-shadow:var(--shadow-xl);
  margin-bottom:12px;
  display:flex;
  align-items:center;
  gap:16px;
  min-width:340px;
  animation:slideInRight 0.4s ease-out;
  border-left:4px solid var(--primary);
  backdrop-filter:blur(10px);
}
.toast-notification.success{border-left-color:var(--success); background:rgba(72,187,120,0.05);}
.toast-notification.error{border-left-color:var(--danger); background:rgba(245,101,101,0.05);}
.toast-notification.warning{border-left-color:var(--warning); background:rgba(237,137,54,0.05);}
.toast-notification .toast-icon{
  font-size:1.75rem;
  flex-shrink:0;
}
.toast-notification.success .toast-icon{color:var(--success)}
.toast-notification.error .toast-icon{color:var(--danger)}
.toast-notification.warning .toast-icon{color:var(--warning)}
.toast-notification .toast-message{
  font-weight:500;
  color:var(--text);
}
.toast-close{
  margin-left:auto;
  background:none;
  border:none;
  font-size:1.4rem;
  cursor:pointer;
  opacity:0.5;
  transition:opacity 0.3s, transform 0.3s;
  padding:4px;
  border-radius:50%;
}
.toast-close:hover{opacity:1; transform:rotate(90deg); background:rgba(0,0,0,0.05);}

/* Animations */
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeInDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
@keyframes slideDown{from{transform:translateY(-100%)}to{transform:translateY(0)}}
@keyframes slideInRight{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes bounceIn{
  0%{transform:scale(0);opacity:0}
  50%{transform:scale(1.1)}
  100%{transform:scale(1);opacity:1}
}
@keyframes zoomIn{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.6}}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}

/* Stagger animation for cards */
.card:nth-child(1){animation-delay:0s}
.card:nth-child(2){animation-delay:0.1s}
.card:nth-child(3){animation-delay:0.2s}
.card:nth-child(4){animation-delay:0.3s}

/* Badge animations */
.badge{
  transition:all 0.3s ease;
}
.badge:hover{
  transform:scale(1.1);
}

/* Print rules for pdf_preview */
@media print{
  .sidebar,.topbar,#darkModeToggle,#exportBtn,#printBtn,.btn,#clearFilters{display:none !important}
  .main-content{margin-left:0 !important; padding:0 !important}
  .card{box-shadow:none;page-break-inside:avoid;border:1px solid #ddd}
  .card-header{background:#f8f9fa !important; color:#000 !important; border-bottom:2px solid #000}
  .table{font-size:10pt}
  .table thead{background:#f0f0f0 !important; color:#000 !important}
  body{background:#fff !important; color:#000 !important}
  a{text-decoration:none; color:#000 !important}
  @page{margin:1cm; size:A4}
}

/* Responsive improvements */
@media(max-width:768px){
  .topbar{height:auto;min-height:72px;flex-wrap:wrap;padding:12px}
  .stat-card{margin-bottom:12px}
  .table-responsive{font-size:0.85rem}
}
